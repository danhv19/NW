{% extends 'base.html' %}

{% block title %}Entrenar Modelo Gradual{% endblock %}

{% block content %}
<div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
        <h4 class="mb-0">Entrenamiento de Modelo Gradual</h4>
    </div>
    <div class="card-body">
        <p class="card-text">
            Suba aquí el archivo histórico de datos (ej. <code>Data - consolidada.xlsx</code>).
            Este archivo debe contener todas las características de matrícula y, lo más importante,
            las notas finales de las unidades (U1, U2, U3, U4) o el <code>PROMEDIO_CURSO</code>.
        </p>
        
        <form action="/train_gradual" method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="file" class="form-label">1. Seleccione el archivo de entrenamiento:</label>
                <input class="form-control" type="file" id="file" name="file" required>
            </div>
            
            <div class="mb-3">
                <label for="target_unit" class="form-label">2. Seleccione el modelo que desea entrenar:</label>
                <select class="form-select" id="target_unit" name="target_unit" required>
                    <option value="" disabled selected>-- Elija una unidad --</option>
                    <option value="U1">Modelo para Predecir U1 (Base)</option>
                    <option value="U2">Modelo para Predecir U2 (Usa U1)</option>
                    <option value="U3">Modelo para Predecir U3 (Usa U1, U2)</option>
                    <option value="U4">Modelo para Predecir U4 (Usa U1, U2, U3)</option>
                </select>
                <div class="form-text">
                    Ej: Si selecciona "Modelo para Predecir U2", el sistema usará los datos de matrícula + la nota U1 para entrenar el modelo U2.
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary w-100">
                <i class="bi bi-robot"></i> Entrenar Modelo
            </button>
        </form>
    </div>
</div>
{% endblock %}
